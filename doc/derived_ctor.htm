<html>
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath:  [ ['@(@','@)@'] ] ,
    displayMath: [ ['@[@','@]@'] ]
  }
});
</script>
<script type='text/javascript' src=
'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=default'
>
</script>
<head>
<title>User Defined Class Derived From cppad_mixed</title>
<meta http-equiv='Content-Type' content='text/html' charset='utf-8'>
<meta name="description" id="description" content="User Defined Class Derived From cppad_mixed">
<meta name="keywords" id="keywords" content=" user defined class derived from cppad_mixed syntax see also mixed_derived mixed_object n_fixed n_random quasi_fixed true false bool_sparsity a_rcv ... cppad errorhandler example ">
<style type='text/css'>
body { color : black }
body { background-color : white }
A:link { color : blue }
A:visited { color : purple }
A:active { color : purple }
</style>
<script type='text/javascript' language='JavaScript' src='_derived_ctor_htm.js'>
</script>
</head>
<body>
<table><tr>
<td>
<a href="https://github.com/bradbell/cppad_mixed" target="_top"><img border="0" src="_image.gif"></a>
</td>
<td><a href="base_class.htm" target="_top">Prev</a>
</td><td><a href="derived_ctor.cpp.htm" target="_top">Next</a>
</td><td>
<select onchange='choose_across0(this)'>
<option>Index-&gt;</option>
<option>contents</option>
<option>reference</option>
<option>index</option>
<option>search</option>
<option>external</option>
</select>
</td>
<td>
<select onchange='choose_up0(this)'>
<option>Up-&gt;</option>
<option>cppad_mixed</option>
<option>base_class</option>
<option>derived_ctor</option>
</select>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_cppad_mixed_htm.js'></script>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_base_class_htm.js'></script>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_derived_ctor_htm.js'></script>
</td>
</tr></table><br>
@(@\newcommand{\R}[1]{ {\rm #1} }
\newcommand{\B}[1]{ {\bf #1} }
\newcommand{\W}[1]{ \; #1 \; }@)@<center><b><big><big>User Defined Class Derived From cppad_mixed</big></big></b></center>

<br><a href="derived_ctor.htm#Syntax" target="_top">Syntax</a>
<br><a href="derived_ctor.htm#See Also" target="_top">See&nbsp;Also</a>
<br><a href="derived_ctor.htm#mixed_derived" target="_top">mixed_derived</a>
<br><a href="derived_ctor.htm#mixed_object" target="_top">mixed_object</a>
<br><a href="derived_ctor.htm#cppad_mixed" target="_top">cppad_mixed</a>
<br><a href="derived_ctor.htm#n_fixed" target="_top">n_fixed</a>
<br><a href="derived_ctor.htm#n_random" target="_top">n_random</a>
<br><a href="derived_ctor.htm#quasi_fixed" target="_top">quasi_fixed</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="derived_ctor.htm#quasi_fixed.true" target="_top">true</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="derived_ctor.htm#quasi_fixed.false" target="_top">false</a>
<br><a href="derived_ctor.htm#bool_sparsity" target="_top">bool_sparsity</a>
<br><a href="derived_ctor.htm#A_rcv" target="_top">A_rcv</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="derived_ctor.htm#..." target="_top">..</a>
<br><a href="derived_ctor.htm#CppAD ErrorHandler" target="_top">CppAD&nbsp;ErrorHandler</a>
<br><a href="derived_ctor.htm#Example" target="_top">Example</a>
<br><br>
<b><big><a name="Syntax" id="Syntax">Syntax</a></big></b>

<br>

<code><i><font color="black"><span style='white-space: nowrap'>mixed_derived</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>mixed_object</span></font></i><font color="blue"><span style='white-space: nowrap'>(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_fixed</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_random</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>quasi_fixed</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>bool_sparsity</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>A_rcv</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>...</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
)</span></font></code>


<br>
<br>
<b><big><a name="See Also" id="See Also">See Also</a></big></b>

<br>
<a href="initialize.htm" target="_top"><span style='white-space: nowrap'>initialize</span></a>


<br>
<br>
<b><big><a name="mixed_derived" id="mixed_derived">mixed_derived</a></big></b>
<br>
This is the name of the class derived in the following fashion:

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>mixed_derived</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;:&nbsp;public&nbsp;cppad_mixed&nbsp;{<br>
</span></font></code>
<br>
<b><big><a name="mixed_object" id="mixed_object">mixed_object</a></big></b>
<br>
This is the derived class object that is constructed by the syntax above.

<br>
<br>
<b><big><a name="cppad_mixed" id="cppad_mixed">cppad_mixed</a></big></b>
<br>
The derived class constructor must call its base class constructor as follows:

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cppad_mixed(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_fixed</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_random</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>quasi_fixed</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>bool_sparsity</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>A_rcv</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>
</span></font></code>
<br>
<b><big><a name="n_fixed" id="n_fixed">n_fixed</a></big></b>
<br>
This argument has prototype

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_fixed</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
and is the number of
<a href="cppad_mixed.htm#Notation.Fixed Effects, theta" target="_top"><span style='white-space: nowrap'>fixed&nbsp;effects</span></a>
 in the model.

<br>
<br>
<b><big><a name="n_random" id="n_random">n_random</a></big></b>
<br>
This argument has prototype

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_random</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
and is the number of
<a href="cppad_mixed.htm#Notation.Random Effects, u" target="_top"><span style='white-space: nowrap'>random&nbsp;effects</span></a>
 in the model.
In the case where there are
<a href="cppad_mixed.htm#Problem.No Random Effects" target="_top"><span style='white-space: nowrap'>no&nbsp;random&nbsp;effects</span></a>
,

<code><i><font color="black"><span style='white-space: nowrap'>n_random</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;=&nbsp;0</span></font></code>
.

<br>
<br>
<b><big><a name="quasi_fixed" id="quasi_fixed">quasi_fixed</a></big></b>
<br>
This argument has prototype

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>quasi_fixed</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
<br>
<big><a name="quasi_fixed.true" id="quasi_fixed.true">true</a></big>
<br>
If 
<code><i><font color="black"><span style='white-space: nowrap'>quasi_fixed</span></font></i></code>
 is true,
a quasi-Newton approximation for the Hessian of the fixed effects objective
<a href="theory.htm#Objective.Fixed Effects Objective, L(theta)" target="_top"><span style='white-space: nowrap'>L(theta)</span></a>

is used during the optimization of the fixed effects.
This is more robust when <a href="optimize_fixed.htm#fixed_in" target="_top"><span style='white-space: nowrap'>fixed_in</span></a>

is far away from a reasonable value and might lead to the
Hessian w.r.t. the random effects not being positive definite.
If 
<code><i><font color="black"><span style='white-space: nowrap'>quasi_fixed</span></font></i></code>
 is true,
some initialization is skipped during <a href="initialize.htm" target="_top"><span style='white-space: nowrap'>initialize</span></a>
.
This initialization is needed, and hence computed if
the and when the <a href="information_mat.htm" target="_top"><span style='white-space: nowrap'>information&nbsp;matrix</span></a>
 is computed.

<br>
<br>
<big><a name="quasi_fixed.false" id="quasi_fixed.false">false</a></big>
<br>
If 
<code><i><font color="black"><span style='white-space: nowrap'>quasi_fixed</span></font></i></code>
 is false,
the Hessian of the fixed effects objective is computed using the
approximate Laplace objective
<a href="theory.htm#Approximate Laplace Objective, H(beta, theta, u)" target="_top"><span style='white-space: nowrap'>H(beta,&nbsp;theta,&nbsp;u)</span></a>
.
The extra routines for initializing the second order accurate
approximation for the Laplace objective <code><font color="blue">init_laplace_obj_fun</font></code>,
and <code><font color="blue">init_laplace_obj_hes</font></code> are used to initialize the
Hessian of the fixed effects objective.


<br>
<br>
<b><big><a name="bool_sparsity" id="bool_sparsity">bool_sparsity</a></big></b>
<br>
This argument has prototype

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>bool_sparsity</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
If it is true, where possible
boolean sparsity patterns are used for this computation,
otherwise set sparsity patterns are used.
This should only affect to amount of time and memory used for the
computations.
If this argument is not present, the type of sparsity patterns
is not specified.

<br>
<br>
<b><big><a name="A_rcv" id="A_rcv">A_rcv</a></big></b>
<br>
This argument has prototype

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;CppAD::mixed::d_sparse_rcv&amp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>A_rcv</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
It is a
<a href="sparse_mat_info.htm#Notation.Sparse Matrix" target="_top"><span style='white-space: nowrap'>sparse&nbsp;matrix</span></a>

representation of the
<a href="cppad_mixed.htm#Notation.Random Constraint Matrix, A" target="_top"><span style='white-space: nowrap'>random&nbsp;constraint&nbsp;matrix</span></a>

<small>@(@
A
@)@</small>.
If 
<code><i><font color="black"><span style='white-space: nowrap'>random_vec</span></font></i><font color="blue"><span style='white-space: nowrap'>.size()</span></font></code>
 is zero,
there are no constraint equations and 
<code><i><font color="black"><span style='white-space: nowrap'>A_rcv</span></font></i><font color="blue"><span style='white-space: nowrap'>.nr()&nbsp;==&nbsp;0</span></font></code>
.
Otherwise, 
<code><i><font color="black"><span style='white-space: nowrap'>A_rcv</span></font></i><font color="blue"><span style='white-space: nowrap'>.nc()</span></font></code>
 must be equal to 
<code><i><font color="black"><span style='white-space: nowrap'>n_random</span></font></i></code>
.
The member variable 
<code><i><font color="black"><span style='white-space: nowrap'>A_rcv_</span></font></i></code>
 is set equal to 
<code><i><font color="black"><span style='white-space: nowrap'>A_rcv</span></font></i></code>

before any other routines are called by this routine.

<br>
<br>
<b><big><a name="..." id="...">...</a></big></b>
<br>
Other arguments to the derived class constructor
(that are not used by the base class constructor).
The other arguments need not appear at the end of the derived
class constructor (as in the syntax above).

<br>
<br>
<b><big><a name="CppAD ErrorHandler" id="CppAD ErrorHandler">CppAD ErrorHandler</a></big></b>
<br>
If a CppAD error occurs, its
<a href="http://www.coin-or.org/CppAD/Doc/errorhandler.htm" target="_top"><span style='white-space: nowrap'>ErrorHandler</span></a>

is used to map it to either a
<a href="base_class.htm#User Defined Functions.fatal_error" target="_top"><span style='white-space: nowrap'>fatal_error</span></a>

or
<a href="base_class.htm#User Defined Functions.warning" target="_top"><span style='white-space: nowrap'>warning</span></a>
.


<br>
<br>
<b><big><a name="Example" id="Example">Example</a></big></b>
<br>
The file <a href="derived_ctor.cpp.htm" target="_top"><span style='white-space: nowrap'>derived_ctor.cpp</span></a>
 contains an example and test
that uses this derived class.
It returns true for success and false for failure.


<hr>Input File: src/derived_ctor.cpp

</body>
</html>
